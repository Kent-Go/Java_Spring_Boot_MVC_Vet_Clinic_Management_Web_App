<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pet Owner Welcome Page</title>
        <link rel="stylesheet" href="/css/ownerWelcome.css" />
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Fetch the userId from the URL
                const urlParams = new URLSearchParams(window.location.search);
                const urlUserID = urlParams.get("userId");
                const urlPetOwnerID = urlParams.get("petOwnerId");

                // Check if userId is not already stored
                if (urlUserID && !localStorage.getItem("userId")) {
                    localStorage.setItem("userId", urlUserID);
                }

                // Check if petOwnerId is not already stored
                if (urlPetOwnerID && !localStorage.getItem("petOwnerId")) {
                    localStorage.setItem("petOwnerId", urlPetOwnerID);
                }

                // Schedule new appointment button logic
                document.querySelector('.new-schedule-btn').addEventListener('click', function () {
                    const petOwnerID = localStorage.getItem("petOwnerId");
                    // redirect to select pet page
                    window.location.href = `appointment/new/select_pet?petOwnerId=${petOwnerID}`;
                });
            });
        </script>
    </head>
<body>
    <div class="header">
        <a href="/">
            <img src="/images/logo.png" alt="Logo" class="logo" />
        </a>
        <a href="#" class="profile-link">
            <img src="/images/profile.png" alt="Profile" class="profile-icon" />
        </a>
    </div>

    <div class="navbar">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="#pets">Pets</a></li>
            <li><a href="/trendsHome">Articles & Videos</a></li>
            <li><a href="#consultation">Consultation</a></li>
            <li><a href="#prescriptions">Prescriptions</a></li>
            <li><a href="#faq">FAQ</a></li>
        </ul>
    </div>

    <div class="welcome-text-container">

    </div>
    
    <div class="welcome-text">
        <h1>Welcome John Johnny Jr.</h1>
        <div class="appointment-header">
            <h2>Upcoming Appointment</h2>
            <button type="button" class="new-schedule-btn">Schedule New Appointment</button>
        </div>
            
    </div>
      
    <div class="appointment-container">
        <h4>Appointment Type: General Clinical Consultation</h4>
        <h4>Pet: Johnny (Male Chihuahua - Cream)</h4>
        <h4>Date: 2 September 2024</h4>
        <h4>Time: 11:00 AM</h4>
        <h4>Veterinarian: Dr Jude Bellingham</h4>
        
        <div class="appointment-actions">
            <button class="reschedule-btn">Reschedule</button>
            <button class="cancel-btn">Cancel</button>
        </div>
        
    </div>
</body>
</html>
<!-- http://localhost:8080/petOwnerDashboard -->