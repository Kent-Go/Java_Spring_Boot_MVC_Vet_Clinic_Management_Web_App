<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Register Pets</title>
    <link rel="stylesheet" href="/css/veterinarianRegister.css" />
    <script>
      function saveForm() {
        if (!validateForm()) {
          return;
        }
        // Collect form data
        var formData = new FormData(document.querySelector("form"));

        // Save form data to localStorage
        formData.forEach((value, key) => {
          localStorage.setItem(key, value);
        });

        // Redirect to profile.html
        window.location.href = "profile";
      }

      function validateForm() {
        // Collect all required fields
        var requiredFields = document.querySelectorAll("[required]");

        // Loop through required fields to check if any are empty
        for (var i = 0; i < requiredFields.length; i++) {
          if (!requiredFields[i].value) {
            alert("Please fill in all required fields.");
            return false;
          }
        }

        return true;
      }
    </script>
  </head>
  <body>
    <div class="header">
      <a href="/">
        <img src="/images/logo.png" alt="Logo" class="logo" />
      </a>
    </div>

    <div class="registration-form">
      <h1>Pet Owner Registration</h1>

      <div class="section-divider"></div>

      <h2>Add Pet</h2>
      <form id="petForm" enctype="multipart/form-data" onsubmit="return false;">
        <!-- Pet Information Section -->
        <label for="petName">Full Name<span style="color: red">*</span></label>
        <input type="text" id="petName" name="petName" required />

        <label for="dob">Date of Birth<span style="color: red">*</span></label>
        <input type="date" id="dob" name="dob" required />

        <label for="dob">Gender<span style="color: red">*</span></label>
        <input type="date" id="gender" name="gender" required />

        <label for="petType">Pet Type<span style="color: red">*</span></label>
        <select id="petType" name="petType" required>
          <option value="dog">Dog</option>
          <option value="cat">Cat</option>
          <option value="rabbit">Rabbit</option>
          <option value="bird">Bird</option>
          <option value="fish">Fish</option>
          <option value="hamster">Hamster</option>
          <option value="horse">Horse</option>
          <option value="other">Other</option>
        </select>

        <label for="breed">Breed<span style="color: red">*</span></label>
        <input type="text" id="breed" name="breed" required />

        <label for="color">Color<span style="color: red">*</span></label>
        <input type="text" id="color" name="color" required />

        <label for="weight">Weight (kg)<span style="color: red">*</span></label>
        <!-- Double data type -->
        <input type="number" id="weight" name="weight" required />

        <label for="profilePicture">Profile Picture</label>
        <input
          type="file"
          id="profilePicture"
          name="profilePicture"
          accept="image/*"
        />

        <div class="section-divider"></div>

        <!-- Health Concern Section -->
        <h2>Health Concerns</h2>
        <label for="allergies">Allergies</label>
        <input type="text" id="allergies" name="allergies" />

        <label for="existingCondition">Existing Condition</label>
        <input type="text" id="existingCondition" name="existingCondition" />
      </form>

      <!-- Back and Continue Buttons -->
      <div class="button-container">
        <button type="button" onclick="window.location.href='petOwnerRegister';">
          Back
        </button>
        <!-- Direct to Pet Register page -->
        <button type="button" onclick="saveForm();">Continue</button>
      </div>
    </div>
  </body>
</html>
